syntax = "proto2";

import public "common_client.proto";
import public "niuniu_server.proto";

package ddproto;

enum niuniu_enum_protoid {
    ////////////////////////////////////
    NIU_PID_HEARTBEAT = 0; //心跳协议
    NIU_PID_QUICK_CONN = 1; //
    NIU_PID_QUICK_CONN_ACK = 2; //
    NIU_PID_GAME_LOGIN = 3; //登录游戏
    NIU_PID_GAME_LOGIN_ACK = 4; //

    NIU_PID_CREATE_DESK_REQ = 5; //创建房间
    NIU_PID_CREATE_DESK_ACK = 6; //创建房间ack

    NIU_PID_ENTER_DESK_REQ = 7; //进入房间
    NIU_PID_ENTER_DESK_BC = 8; //进入房间广播

    NIU_PID_READY_REQ = 9; //  准备
    NIU_PID_READY_BC = 10; //  准备广播

    NIU_PID_START_REQ = 11; //开始比赛（发牌请求）
    NIU_PID_FAPAI_BC = 12; //发牌广播


}

//==============================创建房间===============================
message niu_create_desk_req {
    optional ProtoHeader header = 1;    // header 中传 userId
    optional niuniu_srv_desk_option option = 2;  //房间选项
}

message niu_create_desk_ack {
    optional ProtoHeader header = 1; //错误码及错误信息
    optional string deskNumber = 2;  //房间号
}


//==============================进入房间===============================
message niu_enter_desk_req {
    optional ProtoHeader header = 1;    // header 中传 userId
    optional string deskNumber = 2;  //房间号
}

message niu_enter_desk_bc {
    optional ProtoHeader header = 1;
    optional niuniu_srv_desk deskState = 2;  //房间状态
    repeated niuniu_srv_user userState = 3;  //用户状态
    optional uint32 newUser = 4; //新增的用户
}

